<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1"><link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222"><link rel="alternate" href="/atom.xml" title="无二自留地" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css?v=7.4.1"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Amita:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"7.4.1",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!0,preload:!0},path:"",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="十一临近，号称国内唯一不受工信部监管的外网 GitHub 也间接性抽风，所以不得不未雨绸缪，给 Linux terminal 挂上代理，以防 GitHub 彻底挂了，下面是方法。 Linux终端挂上代理ProxyChains 是一个终端代理方案，使用比较简单，直接安装： $ apt install proxychains 编辑 /etc/proxychains.conf 文件，vi 翻至最下面，把"><meta name="keywords" content="linux,Linux终端代理,git常用命令"><meta property="og:type" content="article"><meta property="og:title" content="Linux下的终端代理和git常用命令"><meta property="og:url" content="https://www.yeahwu.com/posts/2d01ac9.html"><meta property="og:site_name" content="无二自留地"><meta property="og:description" content="十一临近，号称国内唯一不受工信部监管的外网 GitHub 也间接性抽风，所以不得不未雨绸缪，给 Linux terminal 挂上代理，以防 GitHub 彻底挂了，下面是方法。 Linux终端挂上代理ProxyChains 是一个终端代理方案，使用比较简单，直接安装： $ apt install proxychains 编辑 /etc/proxychains.conf 文件，vi 翻至最下面，把"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-09-21T07:59:35.886Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux下的终端代理和git常用命令"><meta name="twitter:description" content="十一临近，号称国内唯一不受工信部监管的外网 GitHub 也间接性抽风，所以不得不未雨绸缪，给 Linux terminal 挂上代理，以防 GitHub 彻底挂了，下面是方法。 Linux终端挂上代理ProxyChains 是一个终端代理方案，使用比较简单，直接安装： $ apt install proxychains 编辑 /etc/proxychains.conf 文件，vi 翻至最下面，把"><link rel="canonical" href="https://www.yeahwu.com/posts/2d01ac9"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-postbottom{cursor:pointer;height:26px;margin-top:10px;position:relative}#needsharebutton-postbottom .btn{border:1px solid $btn-default-border-color;border-radius:3px;display:initial;padding:1px 4px}</style><title>Linux下的终端代理和git常用命令 | 无二自留地</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">无二自留地</span><span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fa fa-fw fa-book"></i> 电子书</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div> <a href="https://github.com/yeahwu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.yeahwu.com/posts/2d01ac9.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="yeahwu"><meta itemprop="description" content=""><meta itemprop="image" content="/images/wills.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="无二自留地"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Linux下的终端代理和git常用命令</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-21 15:51:39 / 修改时间：15:59:35" itemprop="dateCreated datePublished" datetime="2019-09-21T15:51:39+08:00">2019-09-21</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>十一临近，号称国内唯一不受工信部监管的外网 GitHub 也间接性抽风，所以不得不未雨绸缪，给 Linux terminal 挂上代理，以防 GitHub 彻底挂了，下面是方法。</p><h3 id="Linux终端挂上代理"><a href="#Linux终端挂上代理" class="headerlink" title="Linux终端挂上代理"></a>Linux终端挂上代理</h3><p>ProxyChains 是一个终端代理方案，使用比较简单，直接安装：</p><p><code>$ apt install proxychains</code></p><p>编辑 <u>/etc/proxychains.conf</u> 文件，vi 翻至最下面，把默认的 tor 的代理方式、端口换成你的代理端口，比如常用的 Shawdowsocks 代理：</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vi /etc/proxychains.conf</span><br><span class="line"></span><br><span class="line">翻到最下面把 tor 端口改成：</span><br><span class="line"> </span><br><span class="line">socks5    127.0.0.1    1080</span><br></pre></td></tr></table></figure><p>使用</p><p>先启动代理，连接至服务器，然后，只需要在运行程序的命令前加上 proxychains 即可。</p><p>以俺上传博客为例，命令行输入：</p><p><code>$ proxychains hexo deploy</code></p><p>git 同理：</p><p><code>$ proxychains git push</code></p><p>优点：ProxyChains 只会影响指定运行程序</p><p>测试</p><p><code>$ proxychains curl www.google.com</code></p><h3 id="git分支改动和提交"><a href="#git分支改动和提交" class="headerlink" title="git分支改动和提交"></a>git分支改动和提交</h3><p>首先克隆你的整个项目仓库</p><p><code>$ git clone git@github.com:username/origin.git</code></p><p>切换分支</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cd project</span><br><span class="line">$ git branch</span><br><span class="line">$ git checkout -b gh-pages origin/gh-pages  //在本地新建远程分支的镜像（此时模板文件将全部复制到本地文件夹中）</span><br><span class="line">$ git checkout gh-pages  //切换分支</span><br></pre></td></tr></table></figure><p>这个时候分支数据已经切换过来了，看看</p><p><code>$ cd project &amp;&amp; ls</code></p><p>这个时候你就可以改动分支内容了，完了以后正常 push</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m &quot;更新说明&quot;</span><br><span class="line">$ git push origin gh-pages</span><br></pre></td></tr></table></figure><p>切换回主分支</p><p><code>$ git checkout master</code></p><h3 id="git常用命令"><a href="#git常用命令" class="headerlink" title="git常用命令"></a>git常用命令</h3><p><code>git init</code> git初始化</p><p><code>git config --global user.name &quot;xxx&quot;</code> 配置用户名</p><p><code>git config --global user.email &quot;xxx@xxx.com&quot;</code> 配置邮件</p><p><code>git add .</code> 把所有变化提到暂存区</p><p><code>git add xxx</code> 把制定文件提到暂存区</p><p><code>git status</code> 查看当前文件状态</p><p><code>git commit -m &quot;&quot;</code> 提交更新</p><p><code>git commit -am &#39;xxx&#39;</code> 将 add 和 commit 合为一步, 但只能 cover 到已被 track 的文件</p><p><code>git show commit_id</code> 显示某个提交的详细内容</p><p><code>git log</code> 查看 commit 日志</p><p><code>git reset --hard commit_id</code> 回退到某个 commit</p><p><code>git revert commit_id</code> 进入到某个 commit 的代码，并生成新的 commit</p><p><code>git remote -v</code> 查看本地关联的远程仓库</p><p><code>git remote add xxx</code> 地址 关联远程仓库，名字为xxx</p><p><code>git remote rename oldname newname</code> 修改远程仓库的名字</p><p><code>git remote rm name</code> 删除名字为 name 的远程仓库的关联</p><p><code>git pull name branch</code> 拉取名字为 name 的远程仓库的 branch 分支</p><p><code>git push name branch</code> 推送名字为 name 的远程仓库的 branch 分支</p><p><code>git checkout -b branch [remote/master]</code> 新建并进入一个名字为 branch 的分支 可选参数指在某个分支基础上新建</p><p><code>git checkout branch</code> 切到名字为 branch 的分支</p><p><code>git branch -D branch</code> 删除名字为 branch 的分支</p><p><code>git branch -a</code> 查看所有分支 包括本地和远程</p><p><code>git clone</code> 地址 克隆项目到本地</p><p><code>git fetch [name] [branch]</code> 将获取远程仓库的更新取回本地，取回的代码对本地的开发代码没有影响，无参数时默认取所有</p><p><code>git merge branch</code> 把 branch 分支合并到当前分支</p><p><code>git push name :branch</code> 删除名字为 name 的远程的 branch 分支</p><p><code>git rebase -i HEAD~x</code> 或 <code>git rebase -i commi_id</code> (commi_id 不参与合并的) 合并多个 commit, pick 改为 s, 如有冲突，解决以后继续 <code>git add . git rebase --continue</code> 取消合并 <code>git rebase --abort</code></p><p><code>git tag name [commit_id]</code> 增加名字为 name 的 tag, commit_id 的 commit 处打 tag</p><p><code>git tag</code> 查看所有 tag，按字母排序</p><p><code>git tag -d name</code> 删除名字为 name 的 tag</p><p><code>git push origin tagname</code> 把名字为 tagname 的 tag 推到远程</p><p><code>git push --tags</code> 把所有 tag 推送到远程仓库</p><p><code>git push origin :refs/tags/&lt;tagname&gt;</code> 删除远程 tag</p></div><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/linux/" rel="tag"><i class="fa fa-tag"></i> linux</a><a href="/tags/Linux终端代理/" rel="tag"><i class="fa fa-tag"></i> Linux终端代理</a><a href="/tags/git常用命令/" rel="tag"><i class="fa fa-tag"></i> git常用命令</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/6aab4bcc.html" rel="next" title="苏联解体前的六个瞬间"><i class="fa fa-chevron-left"></i> 苏联解体前的六个瞬间</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/4eb1d3df.html" rel="prev" title="澄清“言论自由”的各种误区">澄清“言论自由”的各种误区<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="gitalk-container"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux终端挂上代理"><span class="nav-number">1.</span> <span class="nav-text">Linux终端挂上代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git分支改动和提交"><span class="nav-number">2.</span> <span class="nav-text">git分支改动和提交</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git常用命令"><span class="nav-number">3.</span> <span class="nav-text">git常用命令</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/wills.jpg" alt="yeahwu"><p class="site-author-name" itemprop="name">yeahwu</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:yeahwu404@gmail.com" title="E-Mail &rarr; mailto:yeahwu404@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://twitter.com/yeahwu404" title="Twitter &rarr; https://twitter.com/yeahwu404" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i> Twitter</a></span></div><div class="cc-license motion-element" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://blog.cat73.org/" title="https://blog.cat73.org/" rel="noopener" target="_blank">cat73's blog</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">yeahwu</span></div></div></footer></div><script src="/lib/anime.min.js?v=3.1.0"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script><script src="/js/schemes/pisces.js?v=7.4.1"></script><script src="/js/next-boot.js?v=7.4.1"></script><script src="/js/local-search.js?v=7.4.1"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: 'f48153a5077fe9da2e85',
      clientSecret: 'b6acafe5811845b3c959c8bacfe55a1d3ec86784',
      repo: 'yeahwu.github.io',
      owner: 'yeahwu',
      admin: ['yeahwu'],
      id: '34cabcedd0799eae3a50652b55826ccb',
        language: 'zh-CN',
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script></body></html>