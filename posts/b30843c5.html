<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0"><link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222"><link rel="alternate" href="/atom.xml" title="无二自留地" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css?v=7.4.0"><link rel="stylesheet" href="https://fonts.cat.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Amita:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"7.4.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!0,preload:!0},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="最近被 XX-Net 的602搞得头大，想到了在 heroku 好像还有几个 app 闲着，于是继续折腾 goproxy，没想到两年前的 goproxy 跑得贼溜，而且稳如老狗。于是把方法分享给大家，慎记，因为用的是免费空间，希望大家尽量不要折腾大流量的东东，比如用于下载和视频。"><meta name="keywords" content="翻墙,goproxy php,heroku"><meta property="og:type" content="article"><meta property="og:title" content="goproxy php模式翻墙详解"><meta property="og:url" content="https://www.12ab.cf/posts/b30843c5.html"><meta property="og:site_name" content="无二自留地"><meta property="og:description" content="最近被 XX-Net 的602搞得头大，想到了在 heroku 好像还有几个 app 闲着，于是继续折腾 goproxy，没想到两年前的 goproxy 跑得贼溜，而且稳如老狗。于是把方法分享给大家，慎记，因为用的是免费空间，希望大家尽量不要折腾大流量的东东，比如用于下载和视频。"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-09-24T04:00:38.616Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="goproxy php模式翻墙详解"><meta name="twitter:description" content="最近被 XX-Net 的602搞得头大，想到了在 heroku 好像还有几个 app 闲着，于是继续折腾 goproxy，没想到两年前的 goproxy 跑得贼溜，而且稳如老狗。于是把方法分享给大家，慎记，因为用的是免费空间，希望大家尽量不要折腾大流量的东东，比如用于下载和视频。"><link rel="canonical" href="https://www.12ab.cf/posts/b30843c5"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-postbottom{cursor:pointer;height:26px;margin-top:10px;position:relative}#needsharebutton-postbottom .btn{border:1px solid $btn-default-border-color;border-radius:3px;display:initial;padding:1px 4px}</style><title>goproxy php模式翻墙详解 | 无二自留地</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">无二自留地</span><span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"> <button aria-label="切换导航栏"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div> <a href="https://github.com/yeahwu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article itemscope itemtype="http://schema.org/Article"><div class="post-block post"><link itemprop="mainEntityOfPage" href="https://www.12ab.cf/posts/b30843c5.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Will"><meta itemprop="description" content=""><meta itemprop="image" content="/images/wills.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="无二自留地"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">goproxy php模式翻墙详解</h1><div class="post-meta"><i class="fa fa-thumb-tack"></i> <font color="green">置顶</font> <span class="post-meta-divider">|</span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-24 12:00:38" itemprop="dateCreated datePublished" datetime="2019-09-24T12:00:38+08:00">2019-09-24</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/proxy/" itemprop="url" rel="index"><span itemprop="name">proxy</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>最近被 XX-Net 的602搞得头大，想到了在 heroku 好像还有几个 app 闲着，于是继续折腾 goproxy，没想到两年前的 goproxy 跑得贼溜，而且稳如老狗。于是把方法分享给大家，慎记，因为用的是免费空间，希望大家尽量不要折腾大流量的东东，比如用于下载和视频。</p><a id="more"></a><h3 id="goproxy下载"><a href="#goproxy下载" class="headerlink" title="goproxy下载"></a>goproxy下载</h3><p>下载页面一： <a href="https://github.com/goproxy0/goproxy/releases" target="_blank" rel="noopener">https://github.com/goproxy0/goproxy/releases</a></p><p>下载页面二： <a href="https://github.com/out0fmemory/Goproxy-Always-Available/releases" target="_blank" rel="noopener">https://github.com/out0fmemory/Goproxy-Always-Available/releases</a></p><h3 id="git部署到heroku"><a href="#git部署到heroku" class="headerlink" title="git部署到heroku"></a>git部署到heroku</h3><p>1、注册一个Heroku账号： <a href="https://signup.heroku.com/signup/dc" target="_blank" rel="noopener">https://signup.heroku.com/signup/dc</a></p><p>2、访问 <a href="https://github.com/yeahwu/goproxy/tree/server.php-go" target="_blank" rel="noopener">https://github.com/yeahwu/goproxy/tree/server.php-go</a></p><p>3、点击 Readme.md 页面下面紫色<code>deploy to heroku</code></p><p>4、输入你想要的名称，服务器随意 US 或 EU</p><p>5、在 goproxy 目录下的 php.json 中的</p><p>“Url”: “<a href="http://yourapp.com/&quot;" target="_blank" rel="noopener">http://yourapp.com/&quot;</a> 修改为 “Url”: “https://你的HEROKUapp名称.herokuapp.com/index.go”</p><p>“SSLVerify”: false 改为 “SSLVerify”: true</p><h3 id="dropbox部署到heroku"><a href="#dropbox部署到heroku" class="headerlink" title="dropbox部署到heroku"></a>dropbox部署到heroku</h3><p>1、注册一个 dropbox 账号： <a href="https://www.dropbox.com/" target="_blank" rel="noopener">https://www.dropbox.com/</a></p><p>2、下载后提取里面的 index.go 文件 <a href="https://github.com/yeahwu/goproxy/archive/server.php-go.zip" target="_blank" rel="noopener">https://github.com/yeahwu/goproxy/archive/server.php-go.zip</a></p><p>3、下载go程序部署的示范文件夹 <a href="https://github.com/freeformz/go-heroku-example/archive/master.zip" target="_blank" rel="noopener">https://github.com/freeformz/go-heroku-example/archive/master.zip</a></p><p>4、解压文件并进入 go-heroku-example 文件夹，删除 web.go,然后把前面下载的 index.go 放进去</p><p>5、登录进入 Heroku，进入主控面板，并创建一个 app,记住 app 的名字</p><p>6、进入该 app 的控制面板，点击 deploy, 接着点击 dropbox，connnect to dropbox, 用你注册的 dropbox 账号登录，把 Heroku 的这个 app 跟 dropbox 关联起来</p><p>7、登录 dropbox, 点击应用=》Heroku, 找到那个 app,把前面准备好的 go-heroku-example 文件夹里面的文件全部上传上去</p><p>8、重新回到 heroku 的那个 app 页面，点击 deploy=&gt;dropbox, 然后转到 Deploy your latest changes，随便敲几个字，再点 deploy, heroku 就能自动同步 dropbox 上传的文件并编译了, heroku 能够自动识别 go 程序，自动 安装 go 编译器，自动编译程序，自动部署。</p><p>在 goproxy 目录下的 php.json 中的</p><p>“Url”: “<a href="http://yourapp.com/&quot;" target="_blank" rel="noopener">http://yourapp.com/&quot;</a> 修改为 “Url”: “https://你的HEROKUapp名称.herokuapp.com/“</p><p>“SSLVerify”: false改为”SSLVerify”: true</p><h3 id="goproxy-的使用方法"><a href="#goproxy-的使用方法" class="headerlink" title="goproxy 的使用方法"></a>goproxy 的使用方法</h3><p>修改 php.json 文件中的 Url</p><p>git 部署的 “Url”: “https://你的HEROKUapp名称.herokuapp.com/index.go”</p><p>dropbox 部署的 “Url”: “https://你的HEROKUapp名称.herokuapp.com/“</p><p>修改 httpproxy.json 文件</p><pre><code>&quot;Default&quot;: {
    &quot;Enabled&quot;: false, //这个是默认的gae模式，关闭或打开都可以，俺是关闭的

&quot;PHP&quot;: {
    &quot;Enabled&quot;: true,  //这个必须改成 true 打开</code></pre><p>修改完上面两处就可以运行 goproxy，windows 点击 goproxy-gui.exe 运行，Linux 直接 cd 到文件夹 ./goproxy ，</p><p>goproxy php 默认的代理主机端口是:</p><p><code>http 127.0.0.1 8088 //建议配合 Proxy SwitchyOmega 使用</code></p><p>安装证书同XX-Net，这里就不多讲了。</p></div><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/翻墙/" rel="tag"><i class="fa fa-tag"></i> 翻墙</a><a href="/tags/goproxy-php/" rel="tag"><i class="fa fa-tag"></i> goproxy php</a><a href="/tags/heroku/" rel="tag"><i class="fa fa-tag"></i> heroku</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/789c37f8.html" rel="next" title="警惕狭隘民族主义的蛊惑宣传"><i class="fa fa-chevron-left"></i> 警惕狭隘民族主义的蛊惑宣传</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></div></article></div></div><div class="comments" id="gitalk-container"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#goproxy下载"><span class="nav-number">1.</span> <span class="nav-text">goproxy下载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git部署到heroku"><span class="nav-number">2.</span> <span class="nav-text">git部署到heroku</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dropbox部署到heroku"><span class="nav-number">3.</span> <span class="nav-text">dropbox部署到heroku</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#goproxy-的使用方法"><span class="nav-number">4.</span> <span class="nav-text">goproxy 的使用方法</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/wills.jpg" alt="Will"><p class="site-author-name" itemprop="name">Will</p><div class="site-description" itemprop="description"></div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">12</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">24</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:yeahwu404@gmail.com" title="E-Mail &rarr; mailto:yeahwu404@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://blog.cat73.org/" title="https://blog.cat73.org/" rel="noopener" target="_blank">cat73's blog</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Will</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js?v=3.1.0"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script><script src="/js/schemes/pisces.js?v=7.4.0"></script><script src="/js/next-boot.js?v=7.4.0"></script><script src="/js/local-search.js?v=7.4.0"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: 'f48153a5077fe9da2e85',
      clientSecret: 'b6acafe5811845b3c959c8bacfe55a1d3ec86784',
      repo: 'yeahwu.github.io',
      owner: 'yeahwu',
      admin: ['yeahwu'],
      id: '7de3379791f70e2582274e6c4550ae2c',
        language: 'zh-CN',
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script></body></html>