<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1"><link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222"><link rel="alternate" href="/atom.xml" title="无二自留地" type="application/atom+xml"><link rel="stylesheet" href="/css/main.css?v=7.4.1"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|Amita:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"7.4.1",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!0,preload:!0},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="记录 GitHub Pages 上301重定向踩过的坑。 其实俺的要求很简单，yeahwu.com 能定向跳转到 www.yeahwu.com . 本来是 CNAME 解析到 github.io ,一切都是那么顺利，新的域名也能打开，解析速度俺也能接受，做个301重定向就完美了！ 想想，在 Freenom DNS 上做个 A 记录解决吧，于是 prefix 留空， GitHub IP 填上，确定。"><meta name="keywords" content="github pages,dns,水"><meta property="og:type" content="article"><meta property="og:title" content="GitHub Pages上的301重定向"><meta property="og:url" content="https://www.yeahwu.com/posts/8c0a6bf2.html"><meta property="og:site_name" content="无二自留地"><meta property="og:description" content="记录 GitHub Pages 上301重定向踩过的坑。 其实俺的要求很简单，yeahwu.com 能定向跳转到 www.yeahwu.com . 本来是 CNAME 解析到 github.io ,一切都是那么顺利，新的域名也能打开，解析速度俺也能接受，做个301重定向就完美了！ 想想，在 Freenom DNS 上做个 A 记录解决吧，于是 prefix 留空， GitHub IP 填上，确定。"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-09-15T13:27:53.164Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="GitHub Pages上的301重定向"><meta name="twitter:description" content="记录 GitHub Pages 上301重定向踩过的坑。 其实俺的要求很简单，yeahwu.com 能定向跳转到 www.yeahwu.com . 本来是 CNAME 解析到 github.io ,一切都是那么顺利，新的域名也能打开，解析速度俺也能接受，做个301重定向就完美了！ 想想，在 Freenom DNS 上做个 A 记录解决吧，于是 prefix 留空， GitHub IP 填上，确定。"><link rel="canonical" href="https://www.yeahwu.com/posts/8c0a6bf2"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-postbottom{cursor:pointer;height:26px;margin-top:10px;position:relative}#needsharebutton-postbottom .btn{border:1px solid $btn-default-border-color;border-radius:3px;display:initial;padding:1px 4px}</style><title>GitHub Pages上的301重定向 | 无二自留地</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">无二自留地</span><span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fa fa-fw fa-book"></i> 电子书</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="搜索..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="reading-progress-bar"></div> <a href="https://github.com/yeahwu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.yeahwu.com/posts/8c0a6bf2.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="yeahwu"><meta itemprop="description" content=""><meta itemprop="image" content="/images/wills.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="无二自留地"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">GitHub Pages上的301重定向</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-15 21:22:38 / 修改时间：21:27:53" itemprop="dateCreated datePublished" datetime="2019-09-15T21:22:38+08:00">2019-09-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>记录 GitHub Pages 上301重定向踩过的坑。</p><p>其实俺的要求很简单，yeahwu.com 能定向跳转到 <a href="http://www.yeahwu.com">www.yeahwu.com</a> .</p><p>本来是 CNAME 解析到 github.io ,一切都是那么顺利，新的域名也能打开，解析速度俺也能接受，做个301重定向就完美了！</p><p>想想，在 Freenom DNS 上做个 A 记录解决吧，于是 prefix 留空， GitHub IP 填上，确定。显示错误 username 不能留空，能理解，能理解，填上 @ 继续，还是显示错误，能理解，每个 DNS 网站的表达方式不同嘛。</p><a id="more"></a><p>继续，填上 * 小星星一颗，错误。可能是俺的表达方式太害羞了，于是直白一点， 填上 NOPREFIX ，结果是接受了。兴冲冲地去打开 yeahwu.com 检验一下，打不开，也不能跳转。</p><p>于是俺迷茫了！</p><p>是不是 GitHub Pages 不能支持301跳转？</p><p>要不干脆整两个仓库，直接写个js， 404.html 跳转？</p><p>是不是 Freenom DNS 不支持 A 记录跳转？换 CNAME 记录试试？</p><p>要不要换个 DNS 解析网站？</p><p>要不干脆整个小 VPS？</p><p>搭上梯子（还好这门手艺没落下）打开 Freenom ，没道理前缀不能留空呀？于是，小手一抖填上一个点 . 选择 A 记录，填上 GitHub 的 IP ，确定，退出。<br>几分钟后，打开浏览器，站长工具 http 状态查询，返回码301，居然就这样跳转了。</p><p>总结一下，GitHub Pages 是支持301重定向的，但是仅限单个域名，如果换域名的话还是比较麻烦的! 虽然现在也支持了Let’s Encrypt 加密，但是速度还是不适合建站。</p><p>Freenom 的 DNS 解析，主要是还没找到一个国外合适的 DNS 解析，国内的暂不考虑，再就是，又不是不能用！</p><p>PS：现已转用 Cloudflare 的 DNS，另 Cloudflare 的 CDN 在国内建议别用，太慢。</p></div><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/github-pages/" rel="tag"><i class="fa fa-tag"></i> github pages</a><a href="/tags/dns/" rel="tag"><i class="fa fa-tag"></i> dns</a><a href="/tags/水/" rel="tag"><i class="fa fa-tag"></i> 水</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/posts/ef540c36.html" rel="next" title="幸存者偏见，附巴菲特著名演讲"><i class="fa fa-chevron-left"></i> 幸存者偏见，附巴菲特著名演讲</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/posts/c7607ee2.html" rel="prev" title="洗脑与爱国主义教育">洗脑与爱国主义教育<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="comments" id="gitalk-container"></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/wills.jpg" alt="yeahwu"><p class="site-author-name" itemprop="name">yeahwu</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:yeahwu404@gmail.com" title="E-Mail &rarr; mailto:yeahwu404@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://twitter.com/yeahwu404" title="Twitter &rarr; https://twitter.com/yeahwu404" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i> Twitter</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://blog.cat73.org/" title="https://blog.cat73.org/" rel="noopener" target="_blank">cat73's blog</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">yeahwu</span></div></div></footer></div><script src="/lib/anime.min.js?v=3.1.0"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script><script src="/js/schemes/pisces.js?v=7.4.1"></script><script src="/js/next-boot.js?v=7.4.1"></script><script src="/js/local-search.js?v=7.4.1"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>pbOptions={iconStyle:"box",boxForm:"horizontal",position:"bottomCenter",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions)</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID: 'f48153a5077fe9da2e85',
      clientSecret: 'b6acafe5811845b3c959c8bacfe55a1d3ec86784',
      repo: 'yeahwu.github.io',
      owner: 'yeahwu',
      admin: ['yeahwu'],
      id: '4ba451506e531eb70377891e7221ff34',
        language: 'zh-CN',
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script></body></html>